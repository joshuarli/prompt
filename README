tbh the absolute best way to do this would be
to port this nim into my shell's source code
